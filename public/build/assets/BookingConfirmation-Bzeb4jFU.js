import{r as o,j as e,L as E,a as M}from"./app-BSu0ofF2.js";import{P as $,A as P,a as T,b as A,C as F}from"./PageLayout-D__ctkwN.js";import{B as I}from"./badge-Cqoe9k4_.js";import{B as b}from"./button-BRyfCJ_Y.js";import{C as d,a as m,b as c,c as x}from"./card-CHdoWMUd.js";import{S as f}from"./separator-CufhoRuK.js";import{C as L}from"./chevron-left-Ci-HB2sw.js";import{C as N}from"./clock-mjsBM3EN.js";import{f as R}from"./format-DKbtvHO8.js";import{i as z}from"./id-BLZN8RMz.js";import"./index-DW7OYsA0.js";function X({counselor:a,schedules:s}){const[u,y]=o.useState(""),[t,p]=o.useState("offline"),[h,n]=o.useState(!1),v=s.length*60,g=t==="online"?a.online_price_per_session:a.price_per_session,j=g*s.length,k=j,C=a.specialization.split(",").map(r=>r.trim()),w=s[0],_=R(new Date(w.date),"EEEE, d MMMM yyyy",{locale:z}),S=s.length>0?`${s[0].start_time.slice(0,5)} - ${s[s.length-1].end_time.slice(0,5)}`:"",i=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),B=()=>{n(!0);const r={schedule_id:s[0].id,second_schedule_id:s.length>1?s[1].id:null,consultation_type:t,notes:u||null};M.post(route("client.book.schedule",a.id),r,{onFinish:()=>n(!1),onError:l=>{console.error("Booking errors:",l),n(!1)}})},D=a.user.profile_pic?`/storage/${a.user.profile_pic}`:void 0;return e.jsx($,{children:e.jsxs("div",{className:"mx-auto max-w-lg",children:[e.jsx(b,{variant:"ghost",asChild:!0,className:"mb-4",children:e.jsxs(E,{href:route("client.pick.schedule",a.id),children:[e.jsx(L,{className:"mr-1 h-4 w-4"}),"Kembali ke Jadwal"]})}),e.jsx("h1",{className:"mb-6 font-display text-2xl font-semibold text-foreground",children:"Konfirmasi Booking"}),e.jsxs(d,{className:"mb-6",children:[e.jsx(m,{className:"pb-4",children:e.jsx(c,{className:"text-lg",children:"Ringkasan Booking"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(P,{className:"h-14 w-14 rounded-lg",children:[e.jsx(T,{src:D,alt:a.user.name}),e.jsx(A,{className:"rounded-lg",children:a.user.name.split(" ").map(r=>r[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:a.user.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.education}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:C.slice(0,2).map((r,l)=>e.jsx(I,{variant:"secondary",className:"text-xs",children:r},l))})]})]}),e.jsx(f,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{children:"Tanggal"})]}),e.jsx("span",{className:"font-medium text-foreground",children:_})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx("span",{children:"Waktu"})]}),e.jsx("span",{className:"font-medium text-foreground",children:S})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx("span",{children:"Durasi"})]}),e.jsxs("span",{className:"font-medium text-foreground",children:[v," menit (",s.length," ","sesi)"]})]})]}),e.jsx(f,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Biaya Sesi (",s.length,"x"," ",i(g),")"]}),e.jsx("span",{className:"text-foreground",children:i(j)})]}),e.jsx(f,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-foreground",children:"Total"}),e.jsx("span",{className:"text-xl font-semibold text-foreground",children:i(k)})]})]})]})]}),e.jsxs(d,{className:"mb-6",children:[e.jsx(m,{className:"pb-4",children:e.jsx(c,{className:"text-lg",children:"Jenis Konsultasi"})}),e.jsx(x,{className:"space-y-3",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:()=>p("offline"),className:`flex items-center gap-3 rounded-lg border p-4 text-left transition-all ${t==="offline"?"border-primary bg-primary/5":"border-border hover:border-primary/50"} `,children:[e.jsx("div",{className:`h-4 w-4 rounded-full border ${t==="offline"?"border-primary bg-primary":"border-muted-foreground"} `}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Offline"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tatap muka langsung di lokasi konselor"})]})]}),e.jsxs("button",{onClick:()=>p("online"),className:`flex items-center gap-3 rounded-lg border p-4 text-left transition-all ${t==="online"?"border-primary bg-primary/5":"border-border hover:border-primary/50"} `,children:[e.jsx("div",{className:`h-4 w-4 rounded-full border ${t==="online"?"border-primary bg-primary":"border-muted-foreground"} `}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Online"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Melalui video call (Google Meet / Zoom)"})]})]})]})})]}),e.jsxs(d,{className:"mb-6",children:[e.jsx(m,{className:"pb-4",children:e.jsx(c,{className:"text-lg",children:"Keluhan yang dialami (Opsional)"})}),e.jsx(x,{children:e.jsx("textarea",{value:u,onChange:r=>y(r.target.value),placeholder:"Ceritakan keluhan Anda sebelum sesi dimulai ",className:"h-28 w-full resize-none rounded-lg border border-border bg-background p-3 text-sm text-foreground focus:border-transparent focus:outline-none focus:ring-2 focus:ring-primary"})})]}),e.jsx(b,{className:"w-full",size:"lg",onClick:B,disabled:h,children:h?"Memproses...":"Lanjut ke Pembayaran"})]})})}export{X as default};
