import{r as u,j as s,g as wt,a as yt}from"./app-HLSAdxgc.js";import{d as Ct,u as T,c as F,B as le}from"./button-CSuj7Xl1.js";import{c as je,i as Ne,j as Me,k as te,G as he,q as St,n as A,p as N,s as bt,v as Dt,t as Rt,F as Pt,D as Et,H as _t,X as jt,l as Nt,h as Mt,J as At,_ as zt,K as E,u as Tt,P as It,A as kt,a as Ot,b as Ft,C as Wt,L as Lt,M as Bt,N as Ht}from"./PageLayout-BQn6bilz.js";import{c as Ae,u as Vt}from"./index-BGi38cXk.js";import{C as Z,c as G,a as oe,b as re}from"./card-CY4MapEO.js";import{I as V}from"./input-WeL8Qsfs.js";import{L as K}from"./label-D9DXhz_G.js";import{f as Kt}from"./format-DKbtvHO8.js";import"./index-DW7OYsA0.js";const Ut=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zt=je("camera",Ut);const Gt=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$t=je("lock",Gt);function Yt(o){const r=Xt(o),e=u.forwardRef((t,n)=>{const{children:i,...a}=t,c=u.Children.toArray(i),l=c.find(Jt);if(l){const d=l.props.children,p=c.map(h=>h===l?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:h);return s.jsx(r,{...a,ref:n,children:u.isValidElement(d)?u.cloneElement(d,void 0,p):null})}return s.jsx(r,{...a,ref:n,children:i})});return e.displayName=`${o}.Slot`,e}function Xt(o){const r=u.forwardRef((e,t)=>{const{children:n,...i}=e;if(u.isValidElement(n)){const a=eo(n),c=Qt(i,n.props);return n.type!==u.Fragment&&(c.ref=t?Ct(t,a):a),u.cloneElement(n,c)}return u.Children.count(n)>1?u.Children.only(null):null});return r.displayName=`${o}.SlotClone`,r}var qt=Symbol("radix.slottable");function Jt(o){return u.isValidElement(o)&&typeof o.type=="function"&&"__radixId"in o.type&&o.type.__radixId===qt}function Qt(o,r){const e={...r};for(const t in r){const n=o[t],i=r[t];/^on[A-Z]/.test(t)?n&&i?e[t]=(...c)=>{const l=i(...c);return n(...c),l}:n&&(e[t]=n):t==="style"?e[t]={...n,...i}:t==="className"&&(e[t]=[n,i].filter(Boolean).join(" "))}return{...o,...e}}function eo(o){let r=Object.getOwnPropertyDescriptor(o.props,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning;return e?o.ref:(r=Object.getOwnPropertyDescriptor(o,"ref")?.get,e=r&&"isReactWarning"in r&&r.isReactWarning,e?o.props.ref:o.props.ref||o.ref)}var X="Dialog",[ze]=Me(X),[to,M]=ze(X),Te=o=>{const{__scopeDialog:r,children:e,open:t,defaultOpen:n,onOpenChange:i,modal:a=!0}=o,c=u.useRef(null),l=u.useRef(null),[d,p]=Ne({prop:t,defaultProp:n??!1,onChange:i,caller:X});return s.jsx(to,{scope:r,triggerRef:c,contentRef:l,contentId:te(),titleId:te(),descriptionId:te(),open:d,onOpenChange:p,onOpenToggle:u.useCallback(()=>p(h=>!h),[p]),modal:a,children:e})};Te.displayName=X;var Ie="DialogTrigger",oo=u.forwardRef((o,r)=>{const{__scopeDialog:e,...t}=o,n=M(Ie,e),i=T(r,n.triggerRef);return s.jsx(A.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":ge(n.open),...t,ref:i,onClick:N(o.onClick,n.onOpenToggle)})});oo.displayName=Ie;var fe="DialogPortal",[ro,ke]=ze(fe,{forceMount:void 0}),Oe=o=>{const{__scopeDialog:r,forceMount:e,children:t,container:n}=o,i=M(fe,r);return s.jsx(ro,{scope:r,forceMount:e,children:u.Children.map(t,a=>s.jsx(he,{present:e||i.open,children:s.jsx(St,{asChild:!0,container:n,children:a})}))})};Oe.displayName=fe;var Y="DialogOverlay",Fe=u.forwardRef((o,r)=>{const e=ke(Y,o.__scopeDialog),{forceMount:t=e.forceMount,...n}=o,i=M(Y,o.__scopeDialog);return i.modal?s.jsx(he,{present:t||i.open,children:s.jsx(io,{...n,ref:r})}):null});Fe.displayName=Y;var no=Yt("DialogOverlay.RemoveScroll"),io=u.forwardRef((o,r)=>{const{__scopeDialog:e,...t}=o,n=M(Y,e);return s.jsx(Dt,{as:no,allowPinchZoom:!0,shards:[n.contentRef],children:s.jsx(A.div,{"data-state":ge(n.open),...t,ref:r,style:{pointerEvents:"auto",...t.style}})})}),O="DialogContent",We=u.forwardRef((o,r)=>{const e=ke(O,o.__scopeDialog),{forceMount:t=e.forceMount,...n}=o,i=M(O,o.__scopeDialog);return s.jsx(he,{present:t||i.open,children:i.modal?s.jsx(ao,{...n,ref:r}):s.jsx(so,{...n,ref:r})})});We.displayName=O;var ao=u.forwardRef((o,r)=>{const e=M(O,o.__scopeDialog),t=u.useRef(null),n=T(r,e.contentRef,t);return u.useEffect(()=>{const i=t.current;if(i)return bt(i)},[]),s.jsx(Le,{...o,ref:n,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:N(o.onCloseAutoFocus,i=>{i.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:N(o.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:N(o.onFocusOutside,i=>i.preventDefault())})}),so=u.forwardRef((o,r)=>{const e=M(O,o.__scopeDialog),t=u.useRef(!1),n=u.useRef(!1);return s.jsx(Le,{...o,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{o.onCloseAutoFocus?.(i),i.defaultPrevented||(t.current||e.triggerRef.current?.focus(),i.preventDefault()),t.current=!1,n.current=!1},onInteractOutside:i=>{o.onInteractOutside?.(i),i.defaultPrevented||(t.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const a=i.target;e.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),Le=u.forwardRef((o,r)=>{const{__scopeDialog:e,trapFocus:t,onOpenAutoFocus:n,onCloseAutoFocus:i,...a}=o,c=M(O,e),l=u.useRef(null),d=T(r,l);return Rt(),s.jsxs(s.Fragment,{children:[s.jsx(Pt,{asChild:!0,loop:!0,trapped:t,onMountAutoFocus:n,onUnmountAutoFocus:i,children:s.jsx(Et,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ge(c.open),...a,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(co,{titleId:c.titleId}),s.jsx(uo,{contentRef:l,descriptionId:c.descriptionId})]})]})}),me="DialogTitle",Be=u.forwardRef((o,r)=>{const{__scopeDialog:e,...t}=o,n=M(me,e);return s.jsx(A.h2,{id:n.titleId,...t,ref:r})});Be.displayName=me;var He="DialogDescription",Ve=u.forwardRef((o,r)=>{const{__scopeDialog:e,...t}=o,n=M(He,e);return s.jsx(A.p,{id:n.descriptionId,...t,ref:r})});Ve.displayName=He;var Ke="DialogClose",Ue=u.forwardRef((o,r)=>{const{__scopeDialog:e,...t}=o,n=M(Ke,e);return s.jsx(A.button,{type:"button",...t,ref:r,onClick:N(o.onClick,()=>n.onOpenChange(!1))})});Ue.displayName=Ke;function ge(o){return o?"open":"closed"}var Ze="DialogTitleWarning",[hr,Ge]=_t(Ze,{contentName:O,titleName:me,docsSlug:"dialog"}),co=({titleId:o})=>{const r=Ge(Ze),e=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return u.useEffect(()=>{o&&(document.getElementById(o)||console.error(e))},[e,o]),null},lo="DialogDescriptionWarning",uo=({contentRef:o,descriptionId:r})=>{const t=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ge(lo).contentName}}.`;return u.useEffect(()=>{const n=o.current?.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(t))},[t,o,r]),null},po=Te,ho=Oe,$e=Fe,Ye=We,Xe=Be,qe=Ve,fo=Ue;const mo=po,go=ho,Je=u.forwardRef(({className:o,...r},e)=>s.jsx($e,{ref:e,className:F("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",o),...r}));Je.displayName=$e.displayName;const Qe=u.forwardRef(({className:o,children:r,...e},t)=>s.jsxs(go,{children:[s.jsx(Je,{}),s.jsxs(Ye,{ref:t,className:F("data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%] fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=open]:slide-in-from-left-1/2 sm:rounded-lg",o),...e,children:[r,s.jsxs(fo,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(jt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qe.displayName=Ye.displayName;const et=({className:o,...r})=>s.jsx("div",{className:F("flex flex-col space-y-1.5 text-center sm:text-left",o),...r});et.displayName="DialogHeader";const tt=({className:o,...r})=>s.jsx("div",{className:F("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",o),...r});tt.displayName="DialogFooter";const ot=u.forwardRef(({className:o,...r},e)=>s.jsx(Xe,{ref:e,className:F("text-lg font-semibold leading-none tracking-tight",o),...r}));ot.displayName=Xe.displayName;const vo=u.forwardRef(({className:o,...r},e)=>s.jsx(qe,{ref:e,className:F("text-sm text-muted-foreground",o),...r}));vo.displayName=qe.displayName;var rt=["PageUp","PageDown"],nt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],it={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[de,xo,wo]=Nt(B),[at]=Me(B,[wo]),[yo,q]=at(B),st=u.forwardRef((o,r)=>{const{name:e,min:t=0,max:n=100,step:i=1,orientation:a="horizontal",disabled:c=!1,minStepsBetweenThumbs:l=0,defaultValue:d=[t],value:p,onValueChange:h=()=>{},onValueCommit:g=()=>{},inverted:v=!1,form:y,...f}=o,m=u.useRef(new Set),w=u.useRef(0),x=a==="horizontal"?Co:So,[S=[],_]=Ne({prop:p,defaultProp:d,onChange:R=>{[...m.current][w.current]?.focus(),h(R)}}),j=u.useRef(S);function I(R){const z=Eo(S,R);D(R,z)}function P(R){D(R,w.current)}function b(){const R=j.current[w.current];S[w.current]!==R&&g(S)}function D(R,z,{commit:Q}={commit:!1}){const xe=Mo(i),ee=Ao(Math.round((R-t)/i)*i+t,xe),H=Ae(ee,[t,n]);_((W=[])=>{const k=Ro(W,H,z);if(No(k,l*i)){w.current=k.indexOf(H);const we=String(k)!==String(W);return we&&Q&&g(k),we?k:W}else return W})}return s.jsx(yo,{scope:o.__scopeSlider,name:e,disabled:c,min:t,max:n,valueIndexToChangeRef:w,thumbs:m.current,values:S,orientation:a,form:y,children:s.jsx(de.Provider,{scope:o.__scopeSlider,children:s.jsx(de.Slot,{scope:o.__scopeSlider,children:s.jsx(x,{"aria-disabled":c,"data-disabled":c?"":void 0,...f,ref:r,onPointerDown:N(f.onPointerDown,()=>{c||(j.current=S)}),min:t,max:n,inverted:v,onSlideStart:c?void 0:I,onSlideMove:c?void 0:P,onSlideEnd:c?void 0:b,onHomeKeyDown:()=>!c&&D(t,0,{commit:!0}),onEndKeyDown:()=>!c&&D(n,S.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:z})=>{if(!c){const ee=rt.includes(R.key)||R.shiftKey&&nt.includes(R.key)?10:1,H=w.current,W=S[H],k=i*ee*z;D(W+k,H,{commit:!0})}}})})})})});st.displayName=B;var[ct,lt]=at(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Co=u.forwardRef((o,r)=>{const{min:e,max:t,dir:n,inverted:i,onSlideStart:a,onSlideMove:c,onSlideEnd:l,onStepKeyDown:d,...p}=o,[h,g]=u.useState(null),v=T(r,x=>g(x)),y=u.useRef(void 0),f=Mt(n),m=f==="ltr",w=m&&!i||!m&&i;function C(x){const S=y.current||h.getBoundingClientRect(),_=[0,S.width],I=ve(_,w?[e,t]:[t,e]);return y.current=S,I(x-S.left)}return s.jsx(ct,{scope:o.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:s.jsx(dt,{dir:f,"data-orientation":"horizontal",...p,ref:v,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const S=C(x.clientX);a?.(S)},onSlideMove:x=>{const S=C(x.clientX);c?.(S)},onSlideEnd:()=>{y.current=void 0,l?.()},onStepKeyDown:x=>{const _=it[w?"from-left":"from-right"].includes(x.key);d?.({event:x,direction:_?-1:1})}})})}),So=u.forwardRef((o,r)=>{const{min:e,max:t,inverted:n,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:l,...d}=o,p=u.useRef(null),h=T(r,p),g=u.useRef(void 0),v=!n;function y(f){const m=g.current||p.current.getBoundingClientRect(),w=[0,m.height],x=ve(w,v?[t,e]:[e,t]);return g.current=m,x(f-m.top)}return s.jsx(ct,{scope:o.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:s.jsx(dt,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:f=>{const m=y(f.clientY);i?.(m)},onSlideMove:f=>{const m=y(f.clientY);a?.(m)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:f=>{const w=it[v?"from-bottom":"from-top"].includes(f.key);l?.({event:f,direction:w?-1:1})}})})}),dt=u.forwardRef((o,r)=>{const{__scopeSlider:e,onSlideStart:t,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:c,onStepKeyDown:l,...d}=o,p=q(B,e);return s.jsx(A.span,{...d,ref:r,onKeyDown:N(o.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(c(h),h.preventDefault()):rt.concat(nt).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:N(o.onPointerDown,h=>{const g=h.target;g.setPointerCapture(h.pointerId),h.preventDefault(),p.thumbs.has(g)?g.focus():t(h)}),onPointerMove:N(o.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&n(h)}),onPointerUp:N(o.onPointerUp,h=>{const g=h.target;g.hasPointerCapture(h.pointerId)&&(g.releasePointerCapture(h.pointerId),i(h))})})}),ut="SliderTrack",pt=u.forwardRef((o,r)=>{const{__scopeSlider:e,...t}=o,n=q(ut,e);return s.jsx(A.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...t,ref:r})});pt.displayName=ut;var ue="SliderRange",ht=u.forwardRef((o,r)=>{const{__scopeSlider:e,...t}=o,n=q(ue,e),i=lt(ue,e),a=u.useRef(null),c=T(r,a),l=n.values.length,d=n.values.map(g=>gt(g,n.min,n.max)),p=l>1?Math.min(...d):0,h=100-Math.max(...d);return s.jsx(A.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...t,ref:c,style:{...o.style,[i.startEdge]:p+"%",[i.endEdge]:h+"%"}})});ht.displayName=ue;var pe="SliderThumb",ft=u.forwardRef((o,r)=>{const e=xo(o.__scopeSlider),[t,n]=u.useState(null),i=T(r,c=>n(c)),a=u.useMemo(()=>t?e().findIndex(c=>c.ref.current===t):-1,[e,t]);return s.jsx(bo,{...o,ref:i,index:a})}),bo=u.forwardRef((o,r)=>{const{__scopeSlider:e,index:t,name:n,...i}=o,a=q(pe,e),c=lt(pe,e),[l,d]=u.useState(null),p=T(r,C=>d(C)),h=l?a.form||!!l.closest("form"):!0,g=At(l),v=a.values[t],y=v===void 0?0:gt(v,a.min,a.max),f=Po(t,a.values.length),m=g?.[c.size],w=m?_o(m,y,c.direction):0;return u.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${y}% + ${w}px)`},children:[s.jsx(de.ItemSlot,{scope:o.__scopeSlider,children:s.jsx(A.span,{role:"slider","aria-label":o["aria-label"]||f,"aria-valuemin":a.min,"aria-valuenow":v,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:p,style:v===void 0?{display:"none"}:o.style,onFocus:N(o.onFocus,()=>{a.valueIndexToChangeRef.current=t})})}),h&&s.jsx(mt,{name:n??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:v},t)]})});ft.displayName=pe;var Do="RadioBubbleInput",mt=u.forwardRef(({__scopeSlider:o,value:r,...e},t)=>{const n=u.useRef(null),i=T(n,t),a=Vt(r);return u.useEffect(()=>{const c=n.current;if(!c)return;const l=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==r&&p){const h=new Event("input",{bubbles:!0});p.call(c,r),c.dispatchEvent(h)}},[a,r]),s.jsx(A.input,{style:{display:"none"},...e,ref:i,defaultValue:r})});mt.displayName=Do;function Ro(o=[],r,e){const t=[...o];return t[e]=r,t.sort((n,i)=>n-i)}function gt(o,r,e){const i=100/(e-r)*(o-r);return Ae(i,[0,100])}function Po(o,r){return r>2?`Value ${o+1} of ${r}`:r===2?["Minimum","Maximum"][o]:void 0}function Eo(o,r){if(o.length===1)return 0;const e=o.map(n=>Math.abs(n-r)),t=Math.min(...e);return e.indexOf(t)}function _o(o,r,e){const t=o/2,i=ve([0,50],[0,t]);return(t-i(r)*e)*e}function jo(o){return o.slice(0,-1).map((r,e)=>o[e+1]-r)}function No(o,r){if(r>0){const e=jo(o);return Math.min(...e)>=r}return!0}function ve(o,r){return e=>{if(o[0]===o[1]||r[0]===r[1])return r[0];const t=(r[1]-r[0])/(o[1]-o[0]);return r[0]+t*(e-o[0])}}function Mo(o){return(String(o).split(".")[1]||"").length}function Ao(o,r){const e=Math.pow(10,r);return Math.round(o*e)/e}var vt=st,zo=pt,To=ht,Io=ft;const xt=u.forwardRef(({className:o,...r},e)=>s.jsxs(vt,{ref:e,className:F("relative flex w-full touch-none select-none items-center",o),...r,children:[s.jsx(zo,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(To,{className:"absolute h-full bg-primary"})}),s.jsx(Io,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));xt.displayName=vt.displayName;var ne,ye;function ko(){if(ye)return ne;ye=1;var o=!1,r,e,t,n,i,a,c,l,d,p,h,g,v,y,f;function m(){if(!o){o=!0;var C=navigator.userAgent,x=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(C),S=/(Mac OS X)|(Windows)|(Linux)/.exec(C);if(g=/\b(iPhone|iP[ao]d)/.exec(C),v=/\b(iP[ao]d)/.exec(C),p=/Android/i.exec(C),y=/FBAN\/\w+;/i.exec(C),f=/Mobile/i.exec(C),h=!!/Win64/.exec(C),x){r=x[1]?parseFloat(x[1]):x[5]?parseFloat(x[5]):NaN,r&&document&&document.documentMode&&(r=document.documentMode);var _=/(?:Trident\/(\d+.\d+))/.exec(C);a=_?parseFloat(_[1])+4:r,e=x[2]?parseFloat(x[2]):NaN,t=x[3]?parseFloat(x[3]):NaN,n=x[4]?parseFloat(x[4]):NaN,n?(x=/(?:Chrome\/(\d+\.\d+))/.exec(C),i=x&&x[1]?parseFloat(x[1]):NaN):i=NaN}else r=e=t=i=n=NaN;if(S){if(S[1]){var j=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(C);c=j?parseFloat(j[1].replace("_",".")):!0}else c=!1;l=!!S[2],d=!!S[3]}else c=l=d=!1}}var w={ie:function(){return m()||r},ieCompatibilityMode:function(){return m()||a>r},ie64:function(){return w.ie()&&h},firefox:function(){return m()||e},opera:function(){return m()||t},webkit:function(){return m()||n},safari:function(){return w.webkit()},chrome:function(){return m()||i},windows:function(){return m()||l},osx:function(){return m()||c},linux:function(){return m()||d},iphone:function(){return m()||g},mobile:function(){return m()||g||v||p||f},nativeApp:function(){return m()||y},android:function(){return m()||p},ipad:function(){return m()||v}};return ne=w,ne}var ie,Ce;function Oo(){if(Ce)return ie;Ce=1;var o=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:o,canUseWorkers:typeof Worker<"u",canUseEventListeners:o&&!!(window.addEventListener||window.attachEvent),canUseViewport:o&&!!window.screen,isInWorker:!o};return ie=r,ie}var ae,Se;function Fo(){if(Se)return ae;Se=1;var o=Oo(),r;o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function e(t,n){if(!o.canUseDOM||n&&!("addEventListener"in document))return!1;var i="on"+t,a=i in document;if(!a){var c=document.createElement("div");c.setAttribute(i,"return;"),a=typeof c[i]=="function"}return!a&&r&&t==="wheel"&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}return ae=e,ae}var se,be;function Wo(){if(be)return se;be=1;var o=ko(),r=Fo(),e=10,t=40,n=800;function i(a){var c=0,l=0,d=0,p=0;return"detail"in a&&(l=a.detail),"wheelDelta"in a&&(l=-a.wheelDelta/120),"wheelDeltaY"in a&&(l=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(c=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(c=l,l=0),d=c*e,p=l*e,"deltaY"in a&&(p=a.deltaY),"deltaX"in a&&(d=a.deltaX),(d||p)&&a.deltaMode&&(a.deltaMode==1?(d*=t,p*=t):(d*=n,p*=n)),d&&!c&&(c=d<1?-1:1),p&&!l&&(l=p<1?-1:1),{spinX:c,spinY:l,pixelX:d,pixelY:p}}return i.getEventType=function(){return o.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},se=i,se}var ce,De;function Lo(){return De||(De=1,ce=Wo()),ce}var Bo=Lo();const Ho=wt(Bo);function Vo(o,r,e,t,n,i){i===void 0&&(i=0);var a=L(o,r,i),c=a.width,l=a.height,d=Math.min(c,e),p=Math.min(l,t);return d>p*n?{width:p*n,height:p}:{width:d,height:d/n}}function Ko(o){return o.width>o.height?o.width/o.naturalWidth:o.height/o.naturalHeight}function U(o,r,e,t,n){n===void 0&&(n=0);var i=L(r.width,r.height,n),a=i.width,c=i.height;return{x:Re(o.x,a,e.width,t),y:Re(o.y,c,e.height,t)}}function Re(o,r,e,t){var n=r*t/2-e/2;return J(o,-n,n)}function Pe(o,r){return Math.sqrt(Math.pow(o.y-r.y,2)+Math.pow(o.x-r.x,2))}function Ee(o,r){return Math.atan2(r.y-o.y,r.x-o.x)*180/Math.PI}function Uo(o,r,e,t,n,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var c=a?Zo:Go,l=L(r.width,r.height,i),d=L(r.naturalWidth,r.naturalHeight,i),p={x:c(100,((l.width-e.width/n)/2-o.x/n)/l.width*100),y:c(100,((l.height-e.height/n)/2-o.y/n)/l.height*100),width:c(100,e.width/l.width*100/n),height:c(100,e.height/l.height*100/n)},h=Math.round(c(d.width,p.width*d.width/100)),g=Math.round(c(d.height,p.height*d.height/100)),v=d.width>=d.height*t,y=v?{width:Math.round(g*t),height:g}:{width:h,height:Math.round(h/t)},f=E(E({},y),{x:Math.round(c(d.width-y.width,p.x*d.width/100)),y:Math.round(c(d.height-y.height,p.y*d.height/100))});return{croppedAreaPercentages:p,croppedAreaPixels:f}}function Zo(o,r){return Math.min(o,Math.max(0,r))}function Go(o,r){return r}function $o(o,r,e,t,n,i){var a=L(r.width,r.height,e),c=J(t.width/a.width*(100/o.width),n,i),l={x:c*a.width/2-t.width/2-a.width*c*(o.x/100),y:c*a.height/2-t.height/2-a.height*c*(o.y/100)};return{crop:l,zoom:c}}function Yo(o,r,e){var t=Ko(r);return e.height>e.width?e.height/(o.height*t):e.width/(o.width*t)}function Xo(o,r,e,t,n,i){e===void 0&&(e=0);var a=L(r.naturalWidth,r.naturalHeight,e),c=J(Yo(o,r,t),n,i),l=t.height>t.width?t.height/o.height:t.width/o.width,d={x:((a.width-o.width)/2-o.x)*l,y:((a.height-o.height)/2-o.y)*l};return{crop:d,zoom:c}}function _e(o,r){return{x:(r.x+o.x)/2,y:(r.y+o.y)/2}}function qo(o){return o*Math.PI/180}function L(o,r,e){var t=qo(e);return{width:Math.abs(Math.cos(t)*o)+Math.abs(Math.sin(t)*r),height:Math.abs(Math.sin(t)*o)+Math.abs(Math.cos(t)*r)}}function J(o,r,e){return Math.min(Math.max(o,r),e)}function $(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return o.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Jo=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Qo=1,er=3,tr=1,or=(function(o){zt(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return e.cropperRef=u.createRef(),e.imageRef=u.createRef(),e.videoRef=u.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var t=!0;e.resizeObserver=new window.ResizeObserver(function(n){if(t){t=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(t){return t.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var t=e.computeSizes();t&&(e.previousCropSize=t,e.emitCropData(),e.setInitialCrop(t),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(t){if(e.props.initialCroppedAreaPercentages){var n=$o(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),i=n.crop,a=n.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}else if(e.props.initialCroppedAreaPixels){var c=Xo(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),i=c.crop,a=c.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}},e.computeSizes=function(){var t,n,i,a,c,l,d=e.imageRef.current||e.videoRef.current;if(d&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var p=e.containerRect.width/e.containerRect.height,h=((t=e.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((n=e.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,g=((i=e.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,v=d.offsetWidth<h||d.offsetHeight<g,y=h/g,f=void 0;if(v)switch(e.state.mediaObjectFit){default:case"contain":f=p>y?{width:e.containerRect.height*y,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/y};break;case"horizontal-cover":f={width:e.containerRect.width,height:e.containerRect.width/y};break;case"vertical-cover":f={width:e.containerRect.height*y,height:e.containerRect.height};break}else f={width:d.offsetWidth,height:d.offsetHeight};e.mediaSize=E(E({},f),{naturalWidth:h,naturalHeight:g}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var m=e.props.cropSize?e.props.cropSize:Vo(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((c=e.state.cropSize)===null||c===void 0?void 0:c.height)!==m.height||((l=e.state.cropSize)===null||l===void 0?void 0:l.width)!==m.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(m),e.setState({cropSize:m},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(m),m}},e.saveContainerPosition=function(){if(e.containerRef){var t=e.containerRef.getBoundingClientRect();e.containerPosition={x:t.left,y:t.top}}},e.onMouseDown=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(r.getMousePoint(t)))},e.onMouseMove=function(t){return e.onDrag(r.getMousePoint(t))},e.onScroll=function(t){e.currentDoc&&(t.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(t){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(t))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),t.touches.length===2?e.onPinchStart(t):t.touches.length===1&&e.onDragStart(r.getTouchPoint(t.touches[0]))))},e.onTouchMove=function(t){t.preventDefault(),t.touches.length===2?e.onPinchMove(t):t.touches.length===1&&e.onDrag(r.getTouchPoint(t.touches[0]))},e.onGestureStart=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(t){if(t.preventDefault(),!e.isTouching){var n=r.getMousePoint(t),i=e.gestureZoomStart-1+t.scale;if(e.setNewZoom(i,n,{shouldUpdatePosition:!0}),e.props.onRotationChange){var a=e.gestureRotationStart+t.rotation;e.props.onRotationChange(a)}}},e.onGestureEnd=function(t){e.cleanEvents()},e.onDragStart=function(t){var n,i,a=t.x,c=t.y;e.dragStartPosition={x:a,y:c},e.dragStartCrop=E({},e.props.crop),(i=(n=e.props).onInteractionStart)===null||i===void 0||i.call(n)},e.onDrag=function(t){var n=t.x,i=t.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(n===void 0||i===void 0)){var a=n-e.dragStartPosition.x,c=i-e.dragStartPosition.y,l={x:e.dragStartCrop.x+a,y:e.dragStartCrop.y+c},d=e.props.restrictPosition?U(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.props.onCropChange(d)}}))},e.onDragStopped=function(){var t,n;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(n=(t=e.props).onInteractionEnd)===null||n===void 0||n.call(t)},e.onWheel=function(t){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(t))){t.preventDefault();var n=r.getMousePoint(t),i=Ho(t).pixelY,a=e.props.zoom-i*e.props.zoomSpeed/200;e.setNewZoom(a,n,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var c,l;return(l=(c=e.props).onInteractionStart)===null||l===void 0?void 0:l.call(c)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var c,l;return(l=(c=e.props).onInteractionEnd)===null||l===void 0?void 0:l.call(c)})},250)}},e.getPointOnContainer=function(t,n){var i=t.x,a=t.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-n.x),y:e.containerRect.height/2-(a-n.y)}},e.getPointOnMedia=function(t){var n=t.x,i=t.y,a=e.props,c=a.crop,l=a.zoom;return{x:(n+c.x)/l,y:(i+c.y)/l}},e.setNewZoom=function(t,n,i){var a=i===void 0?{}:i,c=a.shouldUpdatePosition,l=c===void 0?!0:c;if(!(!e.state.cropSize||!e.props.onZoomChange)){var d=J(t,e.props.minZoom,e.props.maxZoom);if(l){var p=e.getPointOnContainer(n,e.containerPosition),h=e.getPointOnMedia(p),g={x:h.x*d-p.x,y:h.y*d-p.y},v=e.props.restrictPosition?U(g,e.mediaSize,e.state.cropSize,d,e.props.rotation):g;e.props.onCropChange(v)}e.props.onZoomChange(d)}},e.getCropData=function(){if(!e.state.cropSize)return null;var t=e.props.restrictPosition?U(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Uo(t,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var t=e.getCropData();if(t){var n=t.croppedAreaPercentages,i=t.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(n,i),e.props.onCropAreaChange&&e.props.onCropAreaChange(n,i)}},e.emitCropAreaChange=function(){var t=e.getCropData();if(t){var n=t.croppedAreaPercentages,i=t.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(n,i)}},e.recomputeCropPosition=function(){var t,n;if(e.state.cropSize){var i=e.props.crop;if(e.isInitialized&&(!((t=e.previousCropSize)===null||t===void 0)&&t.width)&&(!((n=e.previousCropSize)===null||n===void 0)&&n.height)){var a=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(a){var c=e.state.cropSize.width/e.previousCropSize.width,l=e.state.cropSize.height/e.previousCropSize.height;i={x:e.props.crop.x*c,y:e.props.crop.y*l}}}var d=e.props.restrictPosition?U(i,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):i;e.previousCropSize=e.state.cropSize,e.props.onCropChange(d),e.emitCropData()}},e.onKeyDown=function(t){var n,i,a=e.props,c=a.crop,l=a.onCropChange,d=a.keyboardStep,p=a.zoom,h=a.rotation,g=d;if(e.state.cropSize){t.shiftKey&&(g*=.2);var v=E({},c);switch(t.key){case"ArrowUp":v.y-=g,t.preventDefault();break;case"ArrowDown":v.y+=g,t.preventDefault();break;case"ArrowLeft":v.x-=g,t.preventDefault();break;case"ArrowRight":v.x+=g,t.preventDefault();break;default:return}e.props.restrictPosition&&(v=U(v,e.mediaSize,e.state.cropSize,p,h)),t.repeat||(i=(n=e.props).onInteractionStart)===null||i===void 0||i.call(n),l(v)}},e.onKeyUp=function(t){var n,i;switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":t.preventDefault();break;default:return}e.emitCropData(),(i=(n=e.props).onInteractionEnd)===null||i===void 0||i.call(n)},e}return r.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Jo,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},r.prototype.componentWillUnmount=function(){var e,t;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((t=this.styleRef.parentNode)===null||t===void 0||t.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},r.prototype.componentDidUpdate=function(e){var t,n,i,a,c,l,d,p,h;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((t=e.cropSize)===null||t===void 0?void 0:t.height)!==((n=this.props.cropSize)===null||n===void 0?void 0:n.height)||((i=e.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((c=e.crop)===null||c===void 0?void 0:c.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((d=e.crop)===null||d===void 0?void 0:d.y)!==((p=this.props.crop)===null||p===void 0?void 0:p.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var g=this.getObjectFit();g!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:g},this.computeSizes)},r.prototype.getAspect=function(){var e=this.props,t=e.cropSize,n=e.aspect;return t?t.width/t.height:n},r.prototype.getObjectFit=function(){var e,t,n,i;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var c=this.containerRect.width/this.containerRect.height,l=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((t=this.videoRef.current)===null||t===void 0?void 0:t.videoWidth)||0,d=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,p=l/d;return p<c?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},r.prototype.onPinchStart=function(e){var t=r.getTouchPoint(e.touches[0]),n=r.getTouchPoint(e.touches[1]);this.lastPinchDistance=Pe(t,n),this.lastPinchRotation=Ee(t,n),this.onDragStart(_e(t,n))},r.prototype.onPinchMove=function(e){var t=this;if(!(!this.currentDoc||!this.currentWindow)){var n=r.getTouchPoint(e.touches[0]),i=r.getTouchPoint(e.touches[1]),a=_e(n,i);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var c=Pe(n,i),l=t.props.zoom*(c/t.lastPinchDistance);t.setNewZoom(l,a,{shouldUpdatePosition:!1}),t.lastPinchDistance=c;var d=Ee(n,i),p=t.props.rotation+(d-t.lastPinchRotation);t.props.onRotationChange&&t.props.onRotationChange(p),t.lastPinchRotation=d})}},r.prototype.render=function(){var e=this,t,n=this.props,i=n.image,a=n.video,c=n.mediaProps,l=n.cropperProps,d=n.transform,p=n.crop,h=p.x,g=p.y,v=n.rotation,y=n.zoom,f=n.cropShape,m=n.showGrid,w=n.roundCropAreaPixels,C=n.style,x=C.containerStyle,S=C.cropAreaStyle,_=C.mediaStyle,j=n.classes,I=j.containerClassName,P=j.cropAreaClassName,b=j.mediaClassName,D=(t=this.state.mediaObjectFit)!==null&&t!==void 0?t:this.getObjectFit();return u.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(z){return e.containerRef=z},"data-testid":"container",style:x,className:$("reactEasyCrop_Container",I)},i?u.createElement("img",E({alt:"",className:$("reactEasyCrop_Image",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",b)},c,{src:i,ref:this.imageRef,style:E(E({},_),{transform:d||"translate(".concat(h,"px, ").concat(g,"px) rotate(").concat(v,"deg) scale(").concat(y,")")}),onLoad:this.onMediaLoad})):a&&u.createElement("video",E({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:$("reactEasyCrop_Video",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",b)},c,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:E(E({},_),{transform:d||"translate(".concat(h,"px, ").concat(g,"px) rotate(").concat(v,"deg) scale(").concat(y,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(R){return u.createElement("source",E({key:R.src},R))})),this.state.cropSize&&u.createElement("div",E({ref:this.cropperRef,style:E(E({},S),{width:w?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:w?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:$("reactEasyCrop_CropArea",f==="round"&&"reactEasyCrop_CropAreaRound",m&&"reactEasyCrop_CropAreaGrid",P)},l)))},r.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:er,minZoom:Qo,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:tr},r.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},r.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},r})(u.Component);function rr({open:o,imageSrc:r,onCropComplete:e,onClose:t}){const[n,i]=u.useState({x:0,y:0}),[a,c]=u.useState(1),[l,d]=u.useState(null),p=f=>{i(f)},h=f=>{c(f)},g=u.useCallback((f,m)=>{d(m)},[]),v=async()=>{if(!l)return;const f=new Image;f.src=r,await new Promise(C=>{f.onload=C});const m=document.createElement("canvas"),w=m.getContext("2d");w&&(m.width=l.width,m.height=l.height,w.drawImage(f,l.x,l.y,l.width,l.height,0,0,l.width,l.height),m.toBlob(C=>{if(!C)return;const x=new FileReader;x.readAsDataURL(C),x.onloadend=()=>{const S=x.result;e(S)}},"image/jpeg",.9))},y=()=>{v(),t()};return s.jsx(mo,{open:o,onOpenChange:t,children:s.jsxs(Qe,{className:"max-w-2xl",children:[s.jsx(et,{children:s.jsx(ot,{children:"Crop Foto Profil"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative h-[400px] overflow-hidden rounded-lg bg-gray-100",children:s.jsx(or,{image:r,crop:n,zoom:a,aspect:1,onCropChange:p,onZoomChange:h,onCropComplete:g})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Zoom"}),s.jsx(xt,{min:1,max:3,step:.1,value:[a],onValueChange:f=>c(f[0])})]}),s.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Geser dan zoom untuk menyesuaikan area foto (rasio 1:1)"})]}),s.jsxs(tt,{children:[s.jsx(le,{variant:"outline",onClick:t,children:"Batal"}),s.jsx(le,{onClick:y,children:"Terapkan Crop"})]})]})})}function fr({user:o}){const{toast:r}=Tt(),e=u.useRef(null),[t,n]=u.useState(!1),[i,a]=u.useState(o.profile_pic?`/storage/${o.profile_pic}`:null),[c,l]=u.useState(null),[d,p]=u.useState(!1),[h,g]=u.useState(""),[v,y]=u.useState(""),[f,m]=u.useState({name:o.name,email:o.email,phone:o.phone||"",password:"",confirmPassword:""}),w=P=>{m(b=>({...b,[P.target.name]:P.target.value}))},C=()=>{e.current?.click()},x=P=>{const b=P.target.files?.[0];if(b){if(!b.type.startsWith("image/")){r({title:"Error",description:"File harus berupa gambar.",variant:"destructive"});return}if(b.size>2*1024*1024){r({title:"Error",description:"Ukuran file maksimal 2MB.",variant:"destructive"});return}const D=new FileReader;D.onloadend=()=>{g(D.result),p(!0)},D.readAsDataURL(b)}},S=P=>{y(P),a(P),fetch(P).then(b=>b.blob()).then(b=>{const D=new File([b],"profile.jpg",{type:"image/jpeg"});l(D)})},_=P=>{if(P.preventDefault(),f.password&&f.password!==f.confirmPassword){r({title:"Error",description:"Password tidak cocok.",variant:"destructive"});return}n(!0);const b=new FormData;b.append("name",f.name||o.name),b.append("email",f.email||o.email),b.append("phone",f.phone||o.phone||""),c&&b.append("profile_pic",c),f.password&&f.password.trim()!==""&&(b.append("password",f.password),b.append("password_confirmation",f.confirmPassword)),b.append("_method","POST"),yt.post(route("client.profile.update"),b,{forceFormData:!0,onSuccess:()=>{r({title:"Berhasil",description:"Profil Anda berhasil diperbarui."}),m(D=>({...D,password:"",confirmPassword:""})),l(null)},onError:D=>{const R=Object.values(D).flat().join(", ")||"Gagal memperbarui profil. Silakan periksa input Anda.";r({title:"Error",description:R,variant:"destructive"})},onFinish:()=>{n(!1)}})},j=P=>P.split(" ").map(b=>b[0]).join("").toUpperCase(),I=()=>{const P=new Date(o.created_at),D=Math.floor((new Date().getTime()-P.getTime())/(1e3*60*60*24*30));return D>0?`${D} bulan`:"Kurang dari sebulan"};return s.jsxs(It,{title:"Profil Saya",description:"Kelola pengaturan akun dan preferensi Anda",children:[s.jsx("div",{className:"mx-auto max-w-4xl",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(Z,{children:s.jsxs(G,{className:"p-6 text-center",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsxs(kt,{className:"mx-auto h-24 w-24 border-4 border-primary/10",children:[s.jsx(Ot,{src:i||void 0,alt:o.name}),s.jsx(Ft,{className:"text-2xl",children:j(o.name)})]}),s.jsx("button",{type:"button",onClick:C,className:"absolute bottom-0 right-0 flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-md transition-colors hover:bg-primary/90",children:s.jsx(Zt,{className:"h-4 w-4"})}),s.jsx("input",{ref:e,type:"file",accept:"image/*",onChange:x,className:"hidden"})]}),s.jsx("h2",{className:"mt-4 font-display text-xl font-semibold text-foreground",children:o.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o.email}),s.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-sm text-muted-foreground",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsxs("span",{children:["Sejak"," ",Kt(new Date(o.created_at),"MMMM yyyy")]})]})]})}),s.jsxs(Z,{children:[s.jsx(oe,{className:"pb-3",children:s.jsx(re,{className:"text-base",children:"Statistik Cepat"})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status Email"}),s.jsx("span",{className:"font-medium text-foreground",children:o.email_verified_at?"Terverifikasi":"Belum Terverifikasi"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Aktif Sejak"}),s.jsx("span",{className:"font-medium text-foreground",children:I()})]})]})]})]}),s.jsxs("div",{className:"space-y-6 md:col-span-2",children:[s.jsxs(Z,{children:[s.jsx(oe,{children:s.jsxs(re,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Lt,{className:"h-5 w-5 text-primary"}),"Informasi Pribadi"]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(K,{htmlFor:"name",children:"Nama Lengkap"}),s.jsx(V,{id:"name",name:"name",value:f.name,onChange:w,placeholder:"Masukkan nama Anda"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(K,{htmlFor:"phone",children:"Nomor Telepon"}),s.jsxs("div",{className:"relative",children:[s.jsx(Bt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(V,{id:"phone",name:"phone",value:f.phone,onChange:w,placeholder:"Masukkan nomor telepon",className:"pl-10"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(K,{htmlFor:"email",children:"Alamat Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ht,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(V,{id:"email",name:"email",type:"email",value:f.email,onChange:w,placeholder:"Masukkan alamat email",className:"pl-10"})]})]})]})]}),s.jsxs(Z,{children:[s.jsx(oe,{children:s.jsxs(re,{className:"flex items-center gap-2 text-lg",children:[s.jsx($t,{className:"h-5 w-5 text-primary"}),"Ubah Password"]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(K,{htmlFor:"password",children:"Password Baru"}),s.jsx(V,{id:"password",name:"password",type:"password",value:f.password,onChange:w,placeholder:"Masukkan password baru"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(K,{htmlFor:"confirmPassword",children:"Konfirmasi Password"}),s.jsx(V,{id:"confirmPassword",name:"confirmPassword",type:"password",value:f.confirmPassword,onChange:w,placeholder:"Konfirmasi password baru"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Kosongkan jika tidak ingin mengubah password"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(le,{size:"lg",onClick:_,disabled:t,children:t?"Menyimpan...":"Simpan Perubahan"})})]})]})}),s.jsx(rr,{open:d,imageSrc:h,onCropComplete:S,onClose:()=>{p(!1),e.current&&(e.current.value="")}})]})}export{fr as default};
