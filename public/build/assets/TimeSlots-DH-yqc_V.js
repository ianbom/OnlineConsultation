import{j as e}from"./app-CMEvEkaP.js";import{c as g,a as u,b as p,C as h}from"./card-GVVAMpoF.js";import{t as j,c as y,n as b,a as x,f as m}from"./format-DKbtvHO8.js";import{B as f}from"./button-DFWESZbF.js";import{C as N}from"./chevron-left-BErdDeQE.js";import{d as C}from"./PageLayout-CGELvftg.js";import{C as v}from"./clock-DLOao912.js";function w(s,r,i){const a=j(s,i?.in);return isNaN(r)?y(s,NaN):(r&&a.setDate(a.getDate()+r),a)}function M(s,r,i){const[a,t]=b(i?.in,s,r);return+x(a)==+x(t)}function z({weekDays:s,selectedDate:r,onSelectDate:i,getAvailableSlots:a}){return e.jsx(g,{children:e.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-5 md:grid-cols-7",children:s.map(t=>{const o=a(t).length,d=r&&M(t,r),c=new Date;c.setHours(0,0,0,0);const l=t<c;return e.jsxs("button",{disabled:l||o===0,onClick:()=>i(t),className:`flex min-h-[60px] flex-col items-center justify-center rounded-lg border p-3 text-center text-xs transition-all sm:min-h-[70px] sm:text-sm ${d?"border-primary bg-primary text-primary-foreground":"border-border hover:border-primary/50"} ${(l||o===0)&&"cursor-not-allowed opacity-50"} `,children:[e.jsx("div",{className:"font-medium opacity-70",children:m(t,"EEE")}),e.jsx("div",{className:"mt-1 text-base font-semibold sm:text-lg",children:m(t,"d")}),o>0&&e.jsxs("div",{className:`mt-1 ${d?"text-primary-foreground/80":"text-primary"}`,children:[o," slot"]})]},t.toISOString())})})})}function H({weekStart:s,onPrevWeek:r,onNextWeek:i}){return e.jsxs(u,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(p,{className:"text-center text-lg sm:text-left",children:"Pilih Tanggal"}),e.jsxs("div",{className:"flex w-full items-center justify-center gap-2 sm:w-auto sm:justify-end",children:[e.jsx(f,{variant:"ghost",size:"icon",onClick:r,children:e.jsx(N,{className:"h-4 w-4"})}),e.jsxs("span",{className:"min-w-[140px] text-center text-sm font-medium text-foreground",children:[m(s,"d MMM")," -"," ",m(w(s,6),"d MMM yyyy")]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:i,children:e.jsx(C,{className:"h-4 w-4"})})]})]})}function P({selectedDate:s,availableSlots:r,selectedSlots:i,canSelectSlot:a,onSelectSlot:t}){return e.jsxs(h,{className:"animate-fade-in mb-24",children:[e.jsxs(u,{children:[e.jsxs(p,{className:"text-lg",children:["Waktu Tersedia untuk ",m(s,"EEEE, d MMMM")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilih jadwal yang Anda inginkan (Max 2 jam berdampingan)"})]}),e.jsx(g,{children:r.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-2 sm:grid-cols-4 md:grid-cols-5",children:r.map(n=>{const o=i.some(l=>l.id===n.id),d=a(n),c=n.isBooked||!o&&!d;return e.jsxs("button",{disabled:c,onClick:()=>t(n),className:`flex items-center justify-center gap-1.5 rounded-lg border p-3 text-sm font-medium transition-all ${o?"border-primary bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2":d?"border-border hover:border-primary/50":"border-border"} ${c&&"cursor-not-allowed opacity-50"} ${n.isBooked&&"bg-muted line-through"} `,children:[e.jsx(v,{className:"h-4 w-4"}),n.time]},n.id)})}):e.jsx("p",{className:"py-8 text-center text-muted-foreground",children:"Tidak ada jadwal tersedia di tanggal ini"})})]})}export{H as C,P as T,w as a,z as b};
