import{j as e}from"./app-D6xwxhHg.js";import{C as p,a as f,b as g,c as h,B as x}from"./card-ConOpLFV.js";import{C as j}from"./clock-CdVmIq_p.js";import{t as y,c as b,n as N,a as u,f as l}from"./format-DKbtvHO8.js";import{C}from"./chevron-left-CvCy4MV5.js";import{d as v}from"./PageLayout-DBHhHrCo.js";function w(s,r,i){const a=y(s,i?.in);return isNaN(r)?b(s,NaN):(r&&a.setDate(a.getDate()+r),a)}function k(s,r,i){const[a,t]=N(i?.in,s,r);return+u(a)==+u(t)}function B({selectedDate:s,availableSlots:r,selectedSlots:i,canSelectSlot:a,onSelectSlot:t}){return e.jsxs(p,{className:"mb-24 animate-fade-in",children:[e.jsxs(f,{children:[e.jsxs(g,{className:"text-lg",children:["Waktu Tersedia untuk ",l(s,"EEEE, d MMMM")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilih jadwal yang Anda inginkan"})]}),e.jsx(h,{children:r.length>0?e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:r.map(n=>{const o=i.some(m=>m.id===n.id),d=a(n),c=n.isBooked||!o&&!d;return e.jsxs("button",{disabled:c,onClick:()=>t(n),className:`
                    flex items-center justify-center gap-1.5 p-3
                    rounded-lg border text-sm font-medium transition-all

                    ${o?"border-primary bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2":d?"border-border hover:border-primary/50":"border-border"}
                    ${c&&"opacity-50 cursor-not-allowed"}
                    ${n.isBooked&&"bg-muted line-through"}
                  `,children:[e.jsx(j,{className:"h-4 w-4"}),n.time]},n.id)})}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Tidak ada jadwal tersedia di tanggal ini"})})]})}function z({weekDays:s,selectedDate:r,onSelectDate:i,getAvailableSlots:a}){return e.jsx(h,{children:e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 md:grid-cols-7 gap-2",children:s.map(t=>{const o=a(t).length,d=r&&k(t,r),c=new Date;c.setHours(0,0,0,0);const m=t<c;return e.jsxs("button",{disabled:m||o===0,onClick:()=>i(t),className:`
                p-3 rounded-lg border text-center transition-all
                flex flex-col items-center justify-center
                text-xs sm:text-sm
                min-h-[60px] sm:min-h-[70px]
                ${d?"border-primary bg-primary text-primary-foreground":"border-border hover:border-primary/50"}
                ${(m||o===0)&&"opacity-50 cursor-not-allowed"}
              `,children:[e.jsx("div",{className:"font-medium opacity-70",children:l(t,"EEE")}),e.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1",children:l(t,"d")}),o>0&&e.jsxs("div",{className:`mt-1 ${d?"text-primary-foreground/80":"text-primary"}`,children:[o," slot"]})]},t.toISOString())})})})}function H({weekStart:s,onPrevWeek:r,onNextWeek:i}){return e.jsxs(f,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx(g,{className:"text-lg text-center sm:text-left",children:"Pilih Tanggal"}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-end gap-2 w-full sm:w-auto",children:[e.jsx(x,{variant:"ghost",size:"icon",onClick:r,children:e.jsx(C,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm font-medium text-foreground min-w-[140px] text-center",children:[l(s,"d MMM")," - ",l(w(s,6),"d MMM yyyy")]}),e.jsx(x,{variant:"ghost",size:"icon",onClick:i,children:e.jsx(v,{className:"h-4 w-4"})})]})]})}export{H as C,B as T,w as a,z as b};
