import{j as e}from"./app-AVjLOvBt.js";import{C as h,a as g,b as u,c as p}from"./card-B9Fmb9RI.js";import{C as j}from"./clock-BC5b9NMD.js";import{t as y,c as b,n as N,a as x,f as m}from"./format-DKbtvHO8.js";import{B as f}from"./button-OdaSFC08.js";import{C}from"./chevron-left-B-wDIEYk.js";import{d as v}from"./PageLayout-DQy80rI4.js";function w(s,r,i){const a=y(s,i?.in);return isNaN(r)?b(s,NaN):(r&&a.setDate(a.getDate()+r),a)}function M(s,r,i){const[a,t]=N(i?.in,s,r);return+x(a)==+x(t)}function z({selectedDate:s,availableSlots:r,selectedSlots:i,canSelectSlot:a,onSelectSlot:t}){return e.jsxs(h,{className:"mb-24 animate-fade-in",children:[e.jsxs(g,{children:[e.jsxs(u,{className:"text-lg",children:["Waktu Tersedia untuk ",m(s,"EEEE, d MMMM")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilih jadwal yang Anda inginkan (Max 2 jam berdampingan)"})]}),e.jsx(p,{children:r.length>0?e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:r.map(n=>{const o=i.some(l=>l.id===n.id),d=a(n),c=n.isBooked||!o&&!d;return e.jsxs("button",{disabled:c,onClick:()=>t(n),className:`
                    flex items-center justify-center gap-1.5 p-3
                    rounded-lg border text-sm font-medium transition-all

                    ${o?"border-primary bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2":d?"border-border hover:border-primary/50":"border-border"}
                    ${c&&"opacity-50 cursor-not-allowed"}
                    ${n.isBooked&&"bg-muted line-through"}
                  `,children:[e.jsx(j,{className:"h-4 w-4"}),n.time]},n.id)})}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Tidak ada jadwal tersedia di tanggal ini"})})]})}function H({weekDays:s,selectedDate:r,onSelectDate:i,getAvailableSlots:a}){return e.jsx(p,{children:e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 md:grid-cols-7 gap-2",children:s.map(t=>{const o=a(t).length,d=r&&M(t,r),c=new Date;c.setHours(0,0,0,0);const l=t<c;return e.jsxs("button",{disabled:l||o===0,onClick:()=>i(t),className:`
                p-3 rounded-lg border text-center transition-all
                flex flex-col items-center justify-center
                text-xs sm:text-sm
                min-h-[60px] sm:min-h-[70px]
                ${d?"border-primary bg-primary text-primary-foreground":"border-border hover:border-primary/50"}
                ${(l||o===0)&&"opacity-50 cursor-not-allowed"}
              `,children:[e.jsx("div",{className:"font-medium opacity-70",children:m(t,"EEE")}),e.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1",children:m(t,"d")}),o>0&&e.jsxs("div",{className:`mt-1 ${d?"text-primary-foreground/80":"text-primary"}`,children:[o," slot"]})]},t.toISOString())})})})}function P({weekStart:s,onPrevWeek:r,onNextWeek:i}){return e.jsxs(g,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx(u,{className:"text-lg text-center sm:text-left",children:"Pilih Tanggal"}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-end gap-2 w-full sm:w-auto",children:[e.jsx(f,{variant:"ghost",size:"icon",onClick:r,children:e.jsx(C,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm font-medium text-foreground min-w-[140px] text-center",children:[m(s,"d MMM")," - ",m(w(s,6),"d MMM yyyy")]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:i,children:e.jsx(v,{className:"h-4 w-4"})})]})]})}export{P as C,z as T,w as a,H as b};
